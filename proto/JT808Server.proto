//使用 proto3 语法 ,未指定则使用proto2
syntax = "proto3";

message Protocol {
    string msgId = 1; //命令id
    string terminalPhone = 2;//设备号
    string  mainRoleId = 3;//所属公司Id
    oneof dataBody{
        Data0x8103 data0x8103 =4;
        Data0x8105 data0x8105 =5;
        Data0x8108 data0x8108 =6;
        Data0x8202 data0x8202 =7;
        Data0x8300 data0x8300 =8;
        Data0x8301 data0x8301 =9;
        Data0x8302 data0x8302 =10;
        Data0x8303 data0x8303 =11;
        Data0x8304 data0x8304 =12;
        Data0x8400 data0x8400 =13;
        Data0x8401 data0x8401 =14;
        Data0x8500 data0x8500 =15;
        Data0x8600 data0x8600 =16;
        Data0x8601 data0x8601 =17;
        Data0x8602 data0x8602 =18;
        Data0x8604 data0x8604 =19;
        Data0x8606 data0x8606 =20;
        Data0x8700 data0x8700 =21;
        Data0x8800 data0x8800 =22;
        Data0x8801 data0x8801 =23;
        Data0x8802 data0x8802 =24;
        Data0x8803 data0x8803 =25;
        Data0x8804 data0x8804 =26;
        Data0x8805 data0x8805 =27;
        Data0x8900 data0x8900 =28;
        Data0x8A00 data0x8A00 =29;
        Data0x8203 data0x8203 =30;
        Data0x8608 data0x8608 =31;
    }
}
//终端设置
message Data0x8103{
  repeated TerminalSettings terminalSettings =1;
  message TerminalSettings {
      string instructCode = 1; //参数id
      string parameterType = 2;//参数类型
      string values =3;//参数值
  }

}
//终端控制
message Data0x8105{
    int32 type = 1; //1无线升级 2控制终端连接指定服务器 3终端关机 4终端复位 5终端恢复出厂设置 6关闭数据通信 7关闭所有无线通信
    CommandParameters commandParameters = 2;

    message CommandParameters{
    int32 connectionControl = 1;  //连接控制
    string dialName = 2;    //拨号点名称
    string dialUserName = 3; //拨号用户名
    string dialPassword = 4; //拨号密码
    string address = 5;  //地址
    string tcpPort =6;    //TCP端口
    string udpPort =7;    //UDP端口
    string companyId=8;  //制造商ID
    string spAuthCode =9; //监管平台鉴权码
    string hardwareVersion = 10; //硬件版本
    string firmwareVersion =11;  //固件版本
    string urlAddress = 12;   //URL地址
    int32 limitTime =13;    //连接到指定服务器时限
    }
}

message Data0x8108{
    int32 type =1; //升级类型
    string companyId=2;  //制造商ID
    string version=3; //版本号
    int32 upLength=4; //升级数据包长度
}

message Data0x8202{
    int32 timeInterval =1; //时间间隔
    int32 validityTime =2;  //有效期
}

message Data0x8300{
    bool urgent = 1; //1：紧急
    bool terminalDisplay = 2;//终端显示器显示
    bool terminalReading = 3;//终端 TTS 播读
    bool screenDisplay = 4;//1：广告屏显示
    bool navigationInformation = 5;//0：中心导航信息，1：CAN 故障码信息
    string textMsg =6;//文本信息
}

message Data0x8301{
    int32 type = 1; //1：设置类型
    repeated Events events =2;//事件
    message Events{
        int32 id =1; //事件 ID
        string content =2; //事件内容
    }
}

message Data0x8302{
    Flag flag = 1; //1：标志
    string question =2;//事件
    repeated Answers answers =3;//候选答案列表

    message Flag{
       bool urgent = 1; //1：紧急
       bool terminalReading = 2;//终端 TTS 播读
       bool screenDisplay = 3;//1：广告屏显示
    }
    message Answers{
        int32 id =1; //答案 ID
        string answer =2;//答案内容
    }
}

message Data0x8303{
    int32 type = 1; //1：设置类型
   repeated Menus menus =2;//信息项列表
    message Menus{
       int32 type = 1; //1：类型
       string info = 2;//信息名称
    }
}
message Data0x8304{
    int32 type = 1; //1：设置类型
    string info = 2;//信息内容
}

message Data0x8400{
    int32 type = 1; //1：标志
    string phone = 2;//电话
}
message Data0x8401{
    int32 type = 1; //1：设置类型
    repeated Contacts contacts = 2;//联系人项

    message Contacts{
      int32 type = 1; //1：标志
      string phone =2;//电话号码
      string name =3;//联系人

    }
}

message Data0x8500{
    bool flag =1;//标志控制
}

message Data0x8600{
    string msgId = 1; //命令id
    string terminalPhone = 2;//设备号
    string  mainRoleId = 3;//所属公司Id
    int32 type =4;//设置属性
    repeated Areas areas =5;
    message Areas{
        string id =1;  //区域 ID
        Flag flag =2; //区域属性
        string centerLatitude =3; //中心点纬度
        string centerLongitude =4; //中心点经度
        int32 radius =5; //半径
        string startTime =6; //起始时间
        string endTime = 7; //结束时间
        string maxSpeed =8; //最高速度
        int32 overSpeedDuration =9; //超速持续时间
        string topSpeedAtNight =10; //夜间最高速度
        string areaName =11;//区域名称描述


        message Flag{
         bool accordingToTime =1; //根据时间
         bool speedLimit =2;  //限速
         bool inAreaToDriver =3; //进区域报警给驾驶员
         bool enterAreaToPlatform =4; //进区域报警给平台
         bool outOfAreaAlarmTheDriver =5; //出区域报警给驾驶员
         bool outOfAreaAlarmThePlatform =6; //出区域报警给平台
         bool dimensions =7; //维度
         bool longitude =8; //经度
         bool isOpenTheDoor =9; //是否开门
         bool isOpenComModel =10; //是否开启通信模块
         bool isCollectGNSSData =11;//是否采集 GNSS 详细定位数据
        }
    }
}

message Data0x8601{
    string msgId = 1; //命令id
    string terminalPhone = 2;//设备号
    string  mainRoleId = 3;//所属公司Id
    repeated AreaIds areaIds = 4;
    message AreaIds{
        string id =1;
    }
}

message Data0x8602{
    string msgId = 1; //命令id
    string terminalPhone = 2;//设备号
    string  mainRoleId = 3;//所属公司Id
    int32 type=4;//设置属性
    repeated Areas areas =5;
    message Areas{
        int32 id =1;  //区域 ID
        Flag flag =2; //区域属性
        string leftLatitude =3; //左点纬度
        string leftLongitude =4; //左点经度
        string rightLatitude =5; //右点纬度
        string rightLongitude =6; //右点经度
        string startTime =7; //起始时间
        string endTime = 8; //结束时间
        int32 maxSpeed =9; //最高速度
        int32 overSpeedDuration =10; //超速持续时间
        string topSpeedAtNight =11; //夜间最高速度
        string areaName =12;//区域名称描述
        message Flag{
         bool accordingToTime =1; //根据时间
         bool speedLimit=2;  //限速
         bool inAreaToDriver=3; //进区域报警给驾驶员
         bool enterAreaToPlatform=4; //进区域报警给平台
         bool outOfAreaAlarmTheDriver=5; //出区域报警给驾驶员
         bool outOfAreaAlarmThePlatform =6; //出区域报警给平台
         bool dimensions =7; //维度
         bool longitude =8; //经度
         bool isOpenTheDoor=9; //是否开门
         bool isOpenComModel=10; //是否开启通信模块
         bool isCollectGNSSData=11;//是否采集 GNSS 详细定位数据
        }
    }
}


message Data0x8604{
   string id =1;  //区域 ID
   Flag flag =2; //区域属性
   string startTime =3; //起始时间
   string endTime = 4; //结束时间
   int32 maxSpeed =5; //最高速度
   int32 overSpeedDuration =6; //超速持续时间
   repeated Points points =7;  //顶点项列表
   string msgId = 8; //命令id
   string terminalPhone = 9;//设备号
   string  mainRoleId = 10;//所属公司Id
   string topSpeedAtNight =11; //夜间最高速度
   string areaName =12;//区域名称描述
   message Points{
     string latitude =3; //顶点纬度
     string longitude =4; //顶点经度
   }
   message Flag{
    bool accordingToTime =1; //根据时间
    bool speedLimit=2;  //限速
    bool inAreaToDriver=3; //进区域报警给驾驶员
    bool enterAreaToPlatform=4; //进区域报警给平台
    bool outOfAreaAlarmTheDriver=5; //出区域报警给驾驶员
    bool outOfAreaAlarmThePlatform =6; //出区域报警给平台
    bool dimensions =7; //维度
    bool longitude =8; //经度
    bool isOpenTheDoor=9; //是否开门
    bool isOpenComModel=10; //是否开启通信模块
    bool isCollectGNSSData=11;//是否采集 GNSS 详细定位数据
   }
}

message Data0x8606{
    string id =1;  //路线 ID
    Flag flag =2; //路线属性
    string startTime =3; //起始时间
    string endTime = 4; //结束时间
    repeated Points points =5; //拐点项
    string msgId = 6; //命令id
    string terminalPhone = 7;//设备号
    string  mainRoleId = 8;//所属公司Id
    string areaName =9;//区域名称描述
     message Flag{
        bool accordingToTime =1;    //根据时间
        bool enterAlarmToDriver=2;  //进路线报警给驾驶员
        bool enterAlarmToPlatform=3;  //进路线报警给平台
        bool outAlarmToDriver=4;     //出路线报警给驾驶员
        bool outAlarmToPlatform=5;   //出路线报警给平台
     }
     message Points{
        string pointId=1; //拐点 ID
        string pathId=2;  //路段 ID
        string pointLat=3; //拐点纬度
        string pointLng=4;  //拐点经度
        string width=5;  //路段宽度
        Attrib attrib=6;  //路段属性
        string passed=7;  //路段行驶过长阈值
        string uncovered=8;  //路段行驶不足阈值
        string maxSpeed=9;  //路段最高速度
        string overSpeedDuration=10;  //路段超速持续时间
        string topSpeedAtNight =11; //夜间最高速度

        message Attrib{
            bool travelTime =1; //行驶时间
            bool speedLimit =2; //限速
            bool latitude =3;  //维度
            bool longitude =4; //经度
        }
 }
}

message Data0x8700{
    int32 command =1;  //命令字
    string param = 2;  //数据块
    string msgId = 3; //命令id
    string terminalPhone = 4;//设备号
    string  mainRoleId = 5;//所属公司Id
}

message Data0x8800{
    string msgId = 1; //命令id
    string terminalPhone = 2;//设备号
    string mainRoleId = 3;//所属公司Id
    string mmId = 4;
    repeated Ids ids =5;
    message Ids{
        int32 id =1;
        }
}

message Data0x8801{
    int32 channelId =1;  //通道 ID
    int32 command =2;    //拍摄命令
    int32 period =3;     //拍照间隔/录像时间
    int32 save =4;       //保存标志
    string resolution =5;  //分辨率
    int32 quality =6;     //图像/视频质量
    int32 bright =7;      //亮度
    int32 contrast =8;    //对比度
    int32 saturate =9;    //饱和度
    int32 chromaticity =10; //色度
    string msgId = 11; //命令id
    string terminalPhone = 12;//设备号
    string  mainRoleId = 13;//所属公司Id
}

message Data0x8802{
    int32 type =1;         //多媒体类型
    int32 channelId=2;     //通道 ID
    int32 eventCode =3;    //事件项编码
    string startTime =4;   //起始时间
    string endTime =5;     //结束时间
    string msgId = 6; //命令id
    string terminalPhone = 7;//设备号
    string mainRoleId = 8;//所属公司Id
}

message Data0x8803{
     int32 mediaType =1; //多媒体类型
     int32 channel =2; //通道 ID
     int32 eventNumber =3; //事件项编码
     string startTime = 4;  //起始时间
     string endTime = 5; //结束时间
     int32 isDelete = 6; //删除标志
     string msgId = 7; //命令id
     string terminalPhone = 8;//设备号
     string  mainRoleId = 9;//所属公司Id
}
message Data0x8804{
    int32 command =1; //录音命令
    int32 time =2;  //录音时间
    int32 save = 3; //保存标志
    int32 rate =4; //音频采样率
    string msgId = 5; //命令id
    string terminalPhone = 6;//设备号
    string  mainRoleId = 7;//所属公司Id
}
message Data0x8805{
    string id =1;   //多媒体 ID
    int32 flag =2;  //删除标志
    string msgId = 3; //命令id
    string terminalPhone = 4;//设备号
    string  mainRoleId = 5;//所属公司Id
}

message Data0x8900{
    int32 type =1; //透传消息类型
    string data =2; //透传消息内容
    string msgId = 3; //命令id
    string terminalPhone = 4;//设备号
    string mainRoleId = 5;//所属公司Id
}

message Data0x8A00{
    string e =1;   //平台 RSA 公钥{e,n}中的 e
    string n =2;  //RSA 公钥{e,n}中的 n
    string msgId = 3; //命令id
    string terminalPhone = 4;//设备号
    string mainRoleId = 5;//所属公司Id
}

message Data0x8203{
    string msgId = 1; //命令id
    string terminalPhone = 2;//设备号
    string  mainRoleId = 3;//所属公司Id
    int32 seq = 4;   //报警消息流水号
    Type type =5;

    message Type{
    bool emergencyAlarm =1; //确认紧急报警
    bool dangerWarning =2; // 确认危险预警
    bool alarmForEntryAndExitAreas =3;    // 确认进出区域报警
    bool alarmForEntryAndExitRoutes =4;  //确认进出路线报警
    bool alarmIfTooLong = 5;   //确认路段行驶时间不足/过长报警
    bool illegalVehicleIgnitionAlarm =6;  //确认车辆非法点火报警
    bool vehicleIllegalDisplacementAlarm =7; //确认车辆非法位移报警
    }
}

message Data0x8608{
    int32 typeId = 1;
    repeated Ids ids =2;
    message Ids{
        string id =1;
        }
}

